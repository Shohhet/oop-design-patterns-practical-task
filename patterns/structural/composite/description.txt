Предположим у нас есть система пожарной сигнализации. Которая состоит из пожарных датчиков, которые подключены к
контроллеру линий, который подключен к центральному приемно-контрольному прибору. Центральный прибор один, к нему можно
подключить несколько контроллеров линий. К контроллеру линий подключается несколько датчиков.
Работает все следующим образом. Датчики проверяют сотояние окружающей среды и при признаках возгорания переходят в состояние
ПОЖАР. Контроллер опрашивает подключенные к нему датчики, и при обнаружении состояния пожар, сам переходит в состояние ПОЖАР.
Центральный прибор опрашивает состояние подключенных к нему контроллеров, и про обнаружении состояния ПОЖАР передает сигнал
на интерфейс диспетчера.
Итого у нас древовидная структура, элементы которой имеют схожее поведение. Попробуем реализовать ее при помощи паттерна
Компоновщик.